= form_for "", url: visits_path, method: 'get' do |f|
  .d-flex.form-group
    = render "shared/filters/date_filter"

    %div.mx-2
      .btn-search-wrapper.d-block.d-md-flex
        %a.btn.btn-outline-secondary.advance-search{"aria-controls" => "collapseFilter", "aria-expanded" => "false", "data-toggle" => "collapse", :href => "#collapseFilter", :role => "button"}
          %span.d-none.d-lg-inline= t('shared.advance_search')
          %i.fas.fa-angle-down

    %button.btn-search.btn.btn-primary{type: 'submit'}
      %i.fas.fa-search
      = t('shared.search')

  / Advance filter
  #collapseFilter.collapse.collapse-filter
    .d-flex.m-2
      .filter-input.tooltips{ 'data-bs-toggle' => 'tooltip' }
        - options = nested_set_options(Page) {|i| "#{'-' * i.level} #{i.name}" }
        = select_tag 'page_ids[]', options_for_select(options, params[:page_ids]), multiple: true, "data-live-search" => "true", "data-count-selected-text" => "{0} #{t('visit.pages_selected')}", "data-selected-text-format" => "count > 1", "data-none-selected-text" => t('visit.any_page'), class: 'selectpicker form-control'

      .filter-input.ml-2
        = select_tag 'platform', options_for_select(User::PLATFORMS, params[:platform]), include_blank: t('visit.any_platform'), "data-none-selected-text" => t('visit.any_platform'), class: 'selectpicker form-control'


