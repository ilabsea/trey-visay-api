= render "shared/headers/page_heading", title: t('sidebar.college_major') do

  %div.d-flex
    .mr-2= render "shared/buttons/download_button", url: majors_path(filter_params.merge(format: :xlsx))

    = render "shared/buttons/add_new_button", url: new_major_path

    / More Options
    - if policy(Major).create?
      %button.btn.btn-sm{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
        %i.fas.fa-ellipsis-v

      .dropdown-menu.dropdown-menu-right
        %a.btn.dropdown-item{ href: new_major_importer_path }
          %i.fas.fa-file-import.drop-menu-icon
          %span= t("shared.import_from_file")

        %a.btn.dropdown-item{ href: major_importers_path }
          %i.fas.fa-history.drop-menu-icon
          %span= t('shared.importing_history', name: t('sidebar.college_major'))

        - if current_account.primary_admin?
          %a.btn.dropdown-item{ href: majors_path(format: :json), target: '_blank' }
            %i.fas.fa-download.drop-menu-icon
            %span= t('shared.download_json')

/ Filter
= form_for "", url: majors_path, method: 'get' do |f|
  .d-flex
    = render "shared/filters/filter_name", placeholder: t('shared.search_by_code_or_name')

    = select_tag :kind, options_for_select(School.t_kinds, params[:kind]), class: 'custom-select filter-input ml-2', prompt: t('school.any_kind')

    .ml-2
      = render "shared/buttons/search_button"
