/ Page Heading
= render "page_heading"

= render 'shared/filters/name_code_filter', url: college_majors_path

.card.shadow.mb-4
  .card-body
    = render "shared/pagination_title", objects: @majors

    .table-responsive.mb-4
      %table.table.table-hover.pretty
        %thead
          %tr
            %th{width: 60} #
            %th= t('shared.code')
            %th= t('shared.name')
            %th= t('job.personality_type')
            %th= t('college_major.major_in_schools')
            %th= t('college_major.number_of_schools')
            %th

        %tbody#body-content
          - @majors.each_with_index do |major, index|
            %tr
              %td= @pagy.from + index
              %td= link_to major.code, college_major_path(major), class: 'text-primary'
              %td= major.name
              %td= major.personality_type
              %td= major.majors.map(&:name).join(', ')
              %td= major.schools.uniq.length
              %td.text-right
                = link_to edit_college_major_path(major), class: "btn btn-circle btn-sm btn-outline-warning mr-1", data: { toggle: 'tooltip', placement: 'top', title: t('college_major.matching_with_major') } do
                  %i.fas.fa-hands

    = render "shared/footers/pagination"
